// Dailymotion Player Embed v-0.0.3886-rc1 (db60c3dad2a0fde984686a0489d5479377352995)
// License: https://static1.dmcdn.net/playerv5/dmp.license.671ccbe0154208c54f2b92513f728d4718c869f4.txt
// This file is generated dynamically, do not host it yourself
// Statically hosting or caching this file will break your integration
var _dmpesplayer = (function () {
'use strict';
let e={"udger":{"browserOsFamily":"Windows","browserOsName":"Windows 10","browserUaFamily":"Chrome","browserUaName":"Chrome 135.0.0.0","browserUaVersion":135,"deviceType":"desktop"},"geoip":{"visitorAsNumber":"AS10620","visitorCity":"Barranquilla","visitorContinent":"SA","visitorCountry":"CO","visitorRegion":"ATL"},"playerEnv":"prod","flipperEnv":"prod","playerGatekeepers":["PV5_COOKIE_SYNC_AB_TEST","PV5_IAS_INAPP","PV5_IMA_NATIVE_POC","PV5_OMSDK","PV5_OMSDK_NATIVE","PV5_TEMP_IMA_PAGEURL","PV5_TEMP_IMA_PAGEURL_OFFSITE","PV5_SIMID","PV5_MIDROLL_RETAKE_ONSITE","PV5_MIDROLL_RETAKE_OFFSITE","PV5_ADS_ON_REPLAY_ONSITE","PV5_ADS_ON_REPLAY_OFFSITE","PV5_IMA_COMPANION_AD","PV5_EMBED_GEO_REDIRECT_NATIVE","PV5_DYNAMIC_AD_PRESSURE_CC","PV5_PARALLEL_ADS_CALL_ONSITE","PV5_NIELSEN_ENABLED","PV5_ESTAT_DISABLED","PV5_AD_SLOT_PREVENT_SAME_CREATIVE_ID_ONSITE","PV5_AD_SLOT_PREVENT_SAME_CREATIVE_ID_OFFSITE","PV5_DISPLAY_CONSECUTIVE_AD_BREAK_INDEX","PV5_PARALLEL_ADS_CALL_PLAYLIST_OFFSITE","PV5_AD_ICONS_ENABLED","PV5_EMBED_RULES_FROM_DB"],"trafficSegment":573056,"v1st":"f98acd5c-159b-c1e2-22a1-1b86d3fceb4d","player":{"aspectRatio":"16:9","autoskipAfter":10,"autostart":"firstTimeViewable","color":"","contextualContentFreshness":1800,"contextualContentSource":"channel","enableAds":true,"enableAdsAutopauseInactiveTab":false,"enableAdsControls":true,"enableAutomaticRecommendations":true,"enableAutonext":true,"enableAutoskip":false,"enableChannelLink":true,"enableClickToUnmute":true,"enableContextualContent":false,"enableContextualContentFallback":true,"enableContextualContentFreshness":false,"enableCustomRecommendations":false,"enableDmLogo":false,"enableEcoMode":false,"enableGooglePolicyUi":false,"enableInfo":true,"enableKeyboardShortcuts":true,"enableLiveOffairScreen":true,"enablePaidPartnershipLabel":false,"enablePlaybackControls":true,"enableReceiveUrlLocation":true,"enableSharing":false,"enableSharingUrlLocation":false,"enableStartPipExpanded":false,"enableStartscreenDmLink":false,"enableSubtitles":true,"enableTapToUnmute":true,"enableTitlesInVideoCards":true,"enableVideoTitleLink":true,"enableWaitForCustomConfig":false,"enableWatchNowCard":true,"hasReachedPlaybackLimits":false,"hasRecommendationsFromOrgOnly":false,"hasSsai":false,"hasSubscriptionStatusRestricted":false,"id":"x4aj","ownerId":"x1avib2","pip":"off","recommendationsOptimisation":"monetization","userChannelOrganization":"x2kuu","waitForCustomConfigDelay":6,"watermarkImageType":"none","watermarkImageUrl":"","watermarkLinkType":"none","watermarkLinkUrl":"","contextualContentSourceChannels":[],"status":"ok"}},t="v-0.0.3886-rc1",i=[{key:"aspectRatio",isPublic:!0,trackableKey:"aspectRatio"},{key:"autoskipAfter",isPublic:!0,trackableKey:"autoskipAfter"},{key:"autostart",isPublic:!0,trackableKey:"autostart"},{key:"color",isPublic:!0,trackableKey:"color"},{key:"contextualContentFreshness",isPublic:!0,trackableKey:"contextualContentDayRange"},{key:"contextualContentSource",isPublic:!0,trackableKey:"contextualContentSource"},{key:"contextualContentSourceChannels",isPublic:!0,trackableKey:null},{key:"enableAds",isPublic:!0,trackableKey:"enableAds"},{key:"enableAdsAutopauseInactiveTab",isPublic:!1,trackableKey:"enableAdsAutopauseInactiveTab"},{key:"enableAdsControls",isPublic:!0,trackableKey:"enableAdsControls"},{key:"enableAutomaticRecommendations",isPublic:!0,trackableKey:"enableAutomaticRecommendations"},{key:"enableAutonext",isPublic:!0,trackableKey:"enableAutonext"},{key:"enableAutoskip",isPublic:!0,trackableKey:"enableAutoskip"},{key:"enableChannelLink",isPublic:!0,trackableKey:"enableChannelLink"},{key:"enableClickToUnmute",isPublic:!0,trackableKey:"enableClickToUnmute"},{key:"enableContextualContent",isPublic:!0,trackableKey:"enableContextualContent"},{key:"enableContextualContentFallback",isPublic:!0,trackableKey:"enableContextualContentFallback"},{key:"enableContextualContentFreshness",isPublic:!0,trackableKey:"enableContextualContentDayRange"},{key:"enableCustomRecommendations",isPublic:!0,trackableKey:"enableCustomRecommendations"},{key:"enableDmLogo",isPublic:!0,trackableKey:"enableDmLogo"},{key:"enableEcoMode",isPublic:!0,trackableKey:"enableEcoMode"},{key:"enableGooglePolicyUi",isPublic:!0,trackableKey:"enableGooglePolicyUi"},{key:"enableInfo",isPublic:!0,trackableKey:"enableInfo"},{key:"enableKeyboardShortcuts",isPublic:!0,trackableKey:"enableKeyboardShortcuts"},{key:"enableLiveOffairScreen",isPublic:!0,trackableKey:"enableLiveOffairScreen"},{key:"enablePaidPartnershipLabel",isPublic:!0,trackableKey:"enablePaidPartnershipLabel"},{key:"enablePlaybackControls",isPublic:!0,trackableKey:"enablePlaybackControls"},{key:"enableReceiveUrlLocation",isPublic:!0,trackableKey:"enableReceiveUrlLocation"},{key:"enableSharing",isPublic:!0,trackableKey:"enableSharing"},{key:"enableSharingUrlLocation",isPublic:!0,trackableKey:"enableSharingUrlLocation"},{key:"enableStartPipExpanded",isPublic:!0,trackableKey:"enableStartPipExpanded"},{key:"enableStartscreenDmLink",isPublic:!0,trackableKey:"enableStartscreenDmLink"},{key:"enableSubtitles",isPublic:!0,trackableKey:"enableSubtitles"},{key:"enableTapToUnmute",isPublic:!0,trackableKey:"enableTapToUnmute"},{key:"enableTitlesInVideoCards",isPublic:!0,trackableKey:"enableTitlesInVideoCards"},{key:"enableVideoTitleLink",isPublic:!0,trackableKey:"enableVideoTitleLink"},{key:"enableWaitForCustomConfig",isPublic:!0,trackableKey:"enableWaitForCustomConfig"},{key:"enableWatchNowCard",isPublic:!0,trackableKey:"enableWatchNowCard"},{key:"hasReachedPlaybackLimits",isPublic:!1,trackableKey:"hasReachedPlaybackLimits"},{key:"hasSubscriptionStatusRestricted",isPublic:!1,trackableKey:"hasSubscriptionStatusRestricted"},{key:"hasSsai",isPublic:!1,trackableKey:"hasSsai"},{key:"id",isPublic:!0,trackableKey:"id"},{key:"ownerId",isPublic:!1,trackableKey:null},{key:"pip",isPublic:!0,trackableKey:"pip"},{key:"recommendationsOptimisation",isPublic:!0,trackableKey:"recommendationsOptimisation"},{key:"status",isPublic:!1,trackableKey:null},{key:"userChannelOrganization",isPublic:!1,trackableKey:null},{key:"waitForCustomConfigDelay",isPublic:!0,trackableKey:null},{key:"watermarkImageType",isPublic:!0,trackableKey:"watermarkImageType"},{key:"watermarkImageUrl",isPublic:!0,trackableKey:null},{key:"watermarkLinkType",isPublic:!0,trackableKey:"watermarkLinkType"},{key:"watermarkLinkUrl",isPublic:!0,trackableKey:null}],a=()=>"https://geo.dailymotion.com",o=()=>"https://geo.dailymotion.com",n=e=>{let t={};return i.forEach(i=>{let{key:a,isPublic:o}=i;o&&(t[a]=e[a])}),t},l=e=>{let t={};return i.forEach(i=>{let{key:a,trackableKey:o}=i;null!==o&&(t[o]=e[a])}),t},r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&"object"==typeof t&&Object.keys(t).forEach(a=>{i.some(e=>e.key===a)&&c()&&(e[a]=t[a],e.hasOverride=!0)}),e},s=e=>"string"==typeof e?d(e):e,d=e=>{let t={};return new URLSearchParams(e).forEach((e,i)=>{let a=i.match(/([a-zA-Z0-9]+)\[([a-zA-Z0-9]+)\]/);if("true"===e)t[i]=!0;else if("false"===e)t[i]=!1;else if(e.match(/^[0-9]+$/))t[i]=i.match(/color$/i)?e:parseInt(e);else if(a){let[,i,o]=a;t[i]={...t[i],[o]:e}}else t[i]=e}),t},c=()=>(window.location.hostname||window.origin).endsWith(".dailymotion.com"),u=(e,t,i,a)=>(e.addEventListener(t,i,a),()=>{e.removeEventListener(t,i,a)}),p=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:31536e6,a=[`${e}=${t}`,"path=/",`max-age=${i}`,"samesite=lax","secure"];document.cookie=a.join(";")},y=e=>{let t=window.document.cookie.split(";").map(e=>e.trim()).find(t=>t.startsWith(e));return(null==t?void 0:t.split("=")[1])||""},_=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:31536e6,a=window.location.hostname.split(".");for(let o=a.length-1;o>0;o--){let n=a.slice(o).join("."),l=[`${e}=${t}`,"path=/",`max-age=${i}`,`domain=.${n}`,"samesite=lax","secure"];if(document.cookie=l.join(";"),y(e).length>0)return}},m=()=>{let e=[],t=new window.Uint16Array(32);return window.crypto.getRandomValues(t),t.forEach(t=>e.push(`000${t.toString(16)}`.slice(-4))),`${e[0]}${e[1]}-${e[2]}-${e[3]}-${e[4]}-${e[5]}${e[6]}${e[7]}`},b=e=>"string"==typeof e&&e.match(/^x[a-zA-Z0-9-_]+$/),E=g(),h=E.split(",").includes("pes")||"1"===E;function g(){return new URL(window.location.href).searchParams.get("dmLogger")||""}let f={log:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return P(e,"log",...i)},error:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];return P(e,"error",...i)}},w={api:"API",config:"Configuration",contextualembed:"Contextual Embed",cookies:"Cookies",eventbus:"Event Bus",heavyads:"Heavy Ads",init:"Initialization",liveramp:"Liveramp",pip:"Picture In Picture",scaling:"Scaling & aspect ratio",viewability:"Viewability",watchtower:"Watchtower"};function P(e,t){for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];if(!h||!console[t])return;let n="border-radius: 0.125rem; padding: 0.0625rem 0.1875rem; margin: 0 0.0625rem; color: white;";console[t](`%cPES%c${w[e]||"UNKNOWN TOPIC"}`,`${n}; background: purple`,`${n}; background: #ae27ae`,...a)}let v={PUBLIC:{AD_CLICK:"ad_click",AD_COMPANIONSREADY:"ad_companions",AD_DURATIONCHANGE:"ad_durationchange",AD_END:"ad_end",AD_ERROR:"ad_error",AD_IMPRESSION:"ad_impression",AD_LOADED:"ad_loaded",AD_PAUSE:"ad_pause",AD_PLAY:"ad_play",AD_READYTOFETCH:"ad_readytofetch",AD_START:"ad_start",AD_TIMECHANGE:"ad_timeupdate",PLAYER_ASPECTRATIOCHANGE:"pes_aspectratiochange",PLAYER_CRITICALPATHREADY:"playback_ready",PLAYER_END:"end",PLAYER_ERROR:"error",PLAYER_HEAVYADSINTERVENTION:"player_heavyadsintervention",PLAYER_PIPEXPANDEDCHANGE:"pes_pipexpandedchange",PLAYER_PLAYBACKPERMISSION:"playback_resolution",PLAYER_PLAYBACKSPEEDCHANGE:"playbackspeedchange",PLAYER_POSTERDISPLAY:"posterdisplay",PLAYER_PRESENTATIONMODECHANGE:"pes_presentationmodechange",PLAYER_RECODISPLAY:"recodisplay",PLAYER_SCALEMODECHANGE:"pes_scalemodechange",PLAYER_START:"start",PLAYER_VIDEOCHANGE:"videochange",PLAYER_VIDEOLISTCHANGE:"videolistchange",PLAYER_VIEWABILITYCHANGE:"pes_viewabilitychange",PLAYER_VOLUMECHANGE:"volumechange",VIDEO_BUFFERING:"waiting",VIDEO_DURATIONCHANGE:"video_durationchange",VIDEO_END:"video_end",VIDEO_PAUSE:"pause",VIDEO_PLAY:"play",VIDEO_PLAYING:"playing",VIDEO_PROGRESS:"progress",VIDEO_QUALITIESREADY:"qualitiesavailable",VIDEO_QUALITYCHANGE:"qualitychange",VIDEO_SEEKEND:"seeked",VIDEO_SEEKSTART:"seeking",VIDEO_START:"video_start",VIDEO_SUBTITLESCHANGE:"subtitlechange",VIDEO_SUBTITLESREADY:"subtitlesavailable",VIDEO_TIMECHANGE:"timeupdate"},PRIVATE:{ALL:"all",BACK_TO_INLINE_DISPLAY_REQUESTED:"pes_pip_back_to_inline_display_requested",CLOSE_PIP_REQUESTED:"pes_pip_close_requested",COLLAPSE_PIP_REQUESTED:"pes_pip_collapse_requested",DISPLAY_POSTER_SOONER:"poster_sooner",EXPAND_PIP_REQUESTED:"pes_pip_expand_requested",PLAYER_APIREADY:"apiready",PLAYER_FULLSCREENCHANGE:"fullscreenchange",PLAYER_NATIVEPIPCHANGE:"presentationmodechange",PLAYER_STATE:"playerstate",WRITE_UID:"pes_write_uid"}},A={CUSTOMCONFIG:"set-ads-config",FULLSCREEN:"fullscreen",INIT_PIP_IFRAME_CHUNK:"initPesPipChunk",LOAD:"load",LOOP:"loop",MUTED:"muted",NOTIFY_EMBEDDER_URL_CHANGED:"notifyEmbedderURLChanged",NOTIFY_PIP_CHANGED:"notifyPesPipChanged",PAUSE:"pause",PLAY:"play",QUALITY:"quality",PLAYER_VISIBILITY:"notifyPesPlayerVisibility",SCALE:"scaleMode",SEEK:"seek",SPEED:"speed",STATE:"playerstate",SUBTITLES:"subtitle",UPDATE_NEON_TRACKING_DATA:"updateNeonTrackingData",UPDATE_PARAMS:"updatePesParams",UPDATE_AUTH_TOKEN:"updatePesAuthToken",VIEWPORT_RESIZE:"notifyPesViewportSizeChanged",VOLUME:"volume",CUSTOM_RECOMMENDATIONS:"customRecommendations"},I=e=>Object.values(v.PUBLIC).includes(e),k=function(e,t){for(var i,o,n=arguments.length,l=Array(n>2?n-2:0),r=2;r<n;r++)l[r-2]=arguments[r];null===(o=e._do_not_use_8570627c9e5298facd0d.iframe)||void 0===o||null===(i=o.contentWindow)||void 0===i||i.postMessage(JSON.stringify({command:t,parameters:l}),a()),f.log("api",`Sent "${t}" to player iframe`,l)},O=(e,t)=>{window.postMessage(JSON.stringify({event:e,...t}),window.origin)},R=(e,t,i)=>L(e,t,i),C=(e,t)=>L(null,e,t),L=(e,t,i)=>u(window,"message",o=>{let{origin:n,data:l}=o;if((n===window.origin||n===a())&&l&&"string"==typeof l)try{let a=JSON.parse(l);if("all"!==t&&t!==a.event||null!==e&&e._do_not_use_8570627c9e5298facd0d.id!==a.id)return;f.log("api","Received event from iframe",a),i(a)}catch(e){return}}),T={DOM_ELEMENT_ID_NOT_FOUND:"DOM element ID not found",PIP_ALREADY_ENABLED:"PIP is already enabled with another configuration",PIP_IS_DISABLED:"PIP is disabled in the configuration",PLAYER_ALREADY_ATTACHED:"A player instance is already attached to this DOM element",PLAYER_PLACEHOLDER_NODE_OUT_OF_BODY:"The Player Embed Script can't be injected in document head, please use Library Script instead. More details: https://developers.dailymotion.com/guides/getting-started-with-web-sdk/#player-library-script",PLAYER_CONFIG_ID_NOT_FOUND:"The player configuration ID has not been found",PLAYER_CONFIG_ID_DELETED:"The player configuration ID has been deleted",PLAYER_CONFIG_NOT_SPECIFIED:"Several player configurations are imported, please specify a player configuration ID",PLAYER_CONFIG_SERVER_ERROR:"An unexpected error occured when retrieving player configuration",PLAYER_ID_NOT_FOUND:"Player ID not found",PLAYER_ID_REQUIRED:"There are multiple players in the page, please specify an ID",PLAYER_INVALID_OPTIONS:"Player options invalid, please use an object",PLAYER_NOT_FOUND:"No player found in the page"},D=async()=>{let e={content:await U(),title:N(),url:S()};return f.log("contextualembed","Extracted data",e),e},S=()=>window.location.href,N=()=>{for(let t of["h1","h2","h3","title"]){var e;let i=null===(e=document.querySelector(t))||void 0===e?void 0:e.textContent.trim();if("string"==typeof i&&i.length>0)return i.substring(0,2e3)}return""},U=async()=>{await new Promise(e=>setTimeout(e,10));let e=document.querySelector("body").innerText;return(e=e.replace(/\n/g," ")).substring(0,8e4)},Y=!1,$=()=>Y,V=()=>{p("_TEST_","1"),Y="1"===y("_TEST_"),p("_TEST_",null,0),f.log("cookies",`1st party cookies are ${Y?"allowed":"blocked"}`)},x="uid_dm",M="v1st_dm",K=!1,F=()=>K,G=()=>{if(c()){K=$();return}void 0!==window.dmCookie3rdPartyAllowed&&(K=window.dmCookie3rdPartyAllowed,delete window.dmCookie3rdPartyAllowed)},H=new RegExp(/[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}/),j=null,B=()=>j,z=()=>{let e=y(x);return null==e?void 0:e.match(H)},W=()=>{var t;(null===(t=e.player)||void 0===t?void 0:t.enableAds)!==!1&&($()&&_(x,j,33696e3),f.log("cookies","Wrote UID"))},q=()=>{var t;if((null===(t=e.player)||void 0===t?void 0:t.enableAds)===!1)return;let i=y(x);j=(null==i?void 0:i.match(H))?i:m(),f.log("cookies","Initialized UID")},Q=new RegExp(/^[a-zA-Z0-9-]+$/),J=null,Z=()=>J,X=()=>{let t=F(),i=y(M);if(t){f.log("cookies","Got v1st from backend, 3rd party cookie allowed"),J=e.v1st;return}if(null==i?void 0:i.match(Q)){f.log("cookies",'Got v1st from 1st party cookie "v1st_dm"'),J=i;return}f.log("cookies",'Got v1st from backend, v1st_dm created because 3rd party cookie not allowed and 1st party cookie "v1st_dm" does not exist'),J=e.v1st,$()&&_(M,J,33696e3)},ee={inherit:"","16:9":"56.25%","4:3":"75%","1:1":"100%","3:4":"133.3%","9:16":"177.7%"},et={SMALL:480,MEDIUM:1800,LARGE:2160},ei=["fit","fill","fillLeft","fillRight","fillTop","fillBottom"],ea=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Object.prototype.hasOwnProperty.call(ee,t)?t:"16:9",{id:o,iframe:n,rootNode:l,stateFromPES:r}=e._do_not_use_8570627c9e5298facd0d,s="inherit"===a?"100%":"",d="inherit"===a?"100%":"",c=ee[a];Object.assign(l.style,{background:"#0d0d0d",height:s,paddingBottom:c,position:"relative",width:d}),Object.assign(n,{height:"100%",width:"100%"}),r.playerAspectRatio=a,i.withPesEvent&&O(v.PUBLIC.PLAYER_ASPECTRATIOCHANGE,{id:o,aspectRatio:a}),f.log("scaling","Changed aspect ratio",a)},eo=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ei.includes(t)?t:"fit",{id:o,stateFromPES:n}=e._do_not_use_8570627c9e5298facd0d;n.playerScaleMode=a,i.withPesEvent&&O(v.PUBLIC.PLAYER_SCALEMODECHANGE,{id:o,scaleMode:a}),f.log("scaling","Changed scale mode",a)},en="https://pebed.dm-event.net",el=()=>-6e4*new Date().getTimezoneOffset(),er=()=>{let e=window.navigator.connection;return e&&e.effectiveType?e.effectiveType:null},es=e=>{let t=e=>{if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t},i={};return Object.keys(e).forEach(function(a){let o=e[a];null!=o&&""!==o&&(t(o)?i[a]=es(o):i[a]=o)}),i},ed=()=>{let e=window.performance.getEntriesByType("resource").find(e=>e.name===document.currentScript.src),t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e3;return"number"!=typeof e||Number.isNaN(e)||e<0?null:e>t?t:Math.round(e)};return e?{pes_res:{start_time:t(e.startTime,3e4)},pes_custom:{script_request:t(e.requestStart-e.startTime),script_response_start:t(e.responseStart-e.startTime),script_response_end:t(e.responseEnd-e.startTime)}}:null},{udger:{browserOsFamily:ec,browserOsName:eu,browserUaFamily:ep,browserUaName:ey,browserUaVersion:e_,deviceType:em},geoip:{visitorAsNumber:eb,visitorCity:eE,visitorContinent:eh,visitorCountry:eg,visitorRegion:ef},player:ew,playerEnv:eP,trafficSegment:ev}=e,eA=(e,i)=>{let a={name:"life_cycle.embedStart",version:"1.0",data:{context:{visitor_group:Math.ceil(ev/1e4)},created_ts:Date.now(),empty_player:i,info:{browser:{effective_connection_type:er(),os_family:ec,os_name:eu,ua_family:ep,ua_name:ey,ua_version:e_,user_agent:window.navigator.userAgent},device:{type:em,width:window.innerWidth,height:window.innerHeight},player:{config:l(ew),embedder:document.location.href,embedder_hostname:document.location.hostname,env:eP,is_geo:!0,secure:!0,version:t},visitor:{as_number:eb,continent:eh,country:eg,onsite:c(),referer:document.referer,region:ef,timezone_offset:el(),traffic_segment:ev}},perf:ed(),settings:{embed_index:e,pubtool:"pes"}}};ew.ownerId&&(a.data.info.publisher={type:"player",xid:ew.ownerId}),ek("life_cycle.embedStart",{channel:"player",edward:"1.1",sent_ts:Date.now(),events:[es(a)],stack_ctx:{player_stack:"noworker"}})},eI=e=>{ek("advertising.heavyAdsIntervention",{channel:"player",edward:"1.1",sent_ts:Date.now(),events:e.map(es),stack_ctx:{player_stack:"noworker"}})},ek=async(e,t)=>{try{let i=await window.fetch(en,{method:"POST",body:JSON.stringify(t)});200===i.status?f.log("eventbus",`${e} sent`,t):f.error("eventbus",`${e} failed`,i.status,t)}catch(i){f.error("eventbus",`${e} failed`,i.message,t)}},eO=async e=>{let{name:i,emptyPlayer:a,pesUUID:o,pesIframeIndex:n,pesIntegrationType:r}=e,s=Date.now(),{pesLastEventTs:d}=window.dailymotion._do_not_use_8570627c9e5298facd0d,u={name:i,version:"1.0",data:{browser:{effective_connection_type:er(),os_family:ec,os_name:eu,ua_family:ep,ua_name:ey,user_agent:window.navigator.userAgent},created_ts:s,device:{type:em,height:window.screen.height,width:window.screen.width},player:{embedder:document.location.href,embedder_hostname:document.location.hostname,pes_uuid:o,pes_iframe_index:n,pes_integration_type:r,is_empty:a,pubtool:"pes",version:t,settings:l(ew)},timestamp:{created_event:s,delta_previous_event:d?s-d:0},visitor:{as_number:eb,city:eE,continent:eh,country:eg,id:Z(),onsite:c(),referer:document.referer,region:ef,timezone_offset:el(),traffic_segment:ev}}};ew.ownerId&&(u.data.publisher={xid:ew.ownerId}),window.dailymotion._do_not_use_8570627c9e5298facd0d.pesLastEventTs=s;let p={channel:"player",edward:"1.1",events:[es(u)],sent_ts:Date.now()};try{let e=await window.fetch(en,{method:"POST",body:JSON.stringify(p),headers:{"content-type":"text/plain; charset=UTF-8"}});200===e.status?f.log("watchtower",i,"sent",p.events[0]):f.error("watchtower",i,"failed",e.status,p.events[0])}catch(e){f.error("watchtower",i,"failed",e.message,p.events[0])}},eR=e=>{let{id:t,observer:i,rootNode:a,settings:o,stateFromPES:l}=e._do_not_use_8570627c9e5298facd0d,r={};e._do_not_use_8570627c9e5298facd0d.removeAllListeners=R(e,v.PRIVATE.ALL,t=>{let{id:i,event:a,fullscreen:o,mode:n,playerHeavyAdsInterventionReports:s,playerHeavyAdsEvents:d}=t;if([v.PRIVATE.PLAYER_FULLSCREENCHANGE,v.PRIVATE.PLAYER_NATIVEPIPCHANGE].includes(a)){let e=a===v.PRIVATE.PLAYER_FULLSCREENCHANGE?o?"fullscreen":"inline":"inline"===n?"inline":"nativePip";l.playerPresentationMode=e,O(v.PUBLIC.PLAYER_PRESENTATIONMODECHANGE,{id:i,playerPresentationMode:e})}r[a]&&I(a)&&(a===v.PUBLIC.PLAYER_HEAVYADSINTERVENTION?(r[a].forEach(e=>{let{cb:t}=e;t({playerHeavyAdsInterventionReports:s})}),f.log("heavyads","Received reports",s),d.length>0&&(f.log("heavyads","Received events",d),eI(d))):e.getState().then(e=>{r[a].slice().forEach(t=>{let{cb:i}=t;i(e)})}))});let s=t=>{let i=R(e,v.PRIVATE.PLAYER_STATE,e=>{Object.assign(e,l),t(e)});return k(e,A.STATE),i};e.pause=()=>{f.log("api","Called player.pause()"),k(e,A.PAUSE)},e.play=()=>{f.log("api","Called player.play()"),k(e,A.PLAY)},e.seek=t=>{f.log("api","Called player.seek()",t),k(e,A.SEEK,t)},e.setCustomRecommendations=t=>{if(f.log("api","Called player.setCustomRecommendations()",t),o.enableCustomRecommendations)return(t=t.filter(e=>b(e))).length>30&&(console.warn("Custom recommendations are restricted to 30 videos, excess videos will be ignored"),t=t.slice(0,30)),k(e,A.CUSTOM_RECOMMENDATIONS,t);console.warn("Custom recommendations are disabled for that player")},e.setMute=t=>{f.log("api","Called player.setMute()",t),k(e,A.MUTED,t)},e.setQuality=t=>{f.log("api","Called player.setQuality()",t),k(e,A.QUALITY,t)},e.setSubtitles=t=>{f.log("api","Called player.setSubtitles()",t),k(e,A.SUBTITLES,t)},e.setVolume=t=>{f.log("api","Called player.setVolume()",t),k(e,A.VOLUME,t)},e.setFullscreen=t=>{f.log("api","Called player.setFullscreen()",t),k(e,A.FULLSCREEN,t)},e.setControls=()=>{console.warn("The setControls method has been deprecated. Please check https://developers.dailymotion.com/player/#changelog for more details")},e.setCustomConfig=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.log("api","Called player.setCustomConfig()",t,i),k(e,A.CUSTOMCONFIG,t,i)},e.setLoop=t=>{f.log("api","Called player.setLoop()",t),k(e,A.LOOP,t)},e.setPlaybackSpeed=t=>{f.log("api","Called player.setPlaybackSpeed()",t),k(e,A.SPEED,t)},e.setAspectRatio=t=>{f.log("api","Called player.setAspectRatio()",t),ea(e,t,{withPesEvent:!0})},e.setScaleMode=t=>{f.log("api","Called player.setScaleMode()",t),k(e,A.SCALE,t),eo(e,t,{withPesEvent:!0})},e.loadContent=t=>{let{video:a,playlist:n,startTime:l}=t;f.log("API","Called player.loadContent()",{video:a,playlist:n,startTime:l});let r="on"===o.autostart||"firstTimeViewable"===o.autostart&&i.wasViewableAtLeastOnce;if(c()){let t=window.location.href;f.log("API","sendCommandToPlayer(COMMANDS.NOTIFY_EMBEDDER_URL_CHANGED), with url:",t),k(e,A.NOTIFY_EMBEDDER_URL_CHANGED,t)}k(e,A.LOAD,a,{playlist:n,start:l,autoplay:r})},e.updateParams=t=>{f.log("api","Called player.updateParams()",t),void 0!==t.enableControls&&console.warn("The enableControls parameter from updateParams method has been deprecated. Please check https://developers.dailymotion.com/player/#changelog for more details"),void 0!==t.aspectRatio&&ea(e,t.aspectRatio,{withPesEvent:!0}),void 0!==t.scaleMode&&eo(e,t.scaleMode,{withPesEvent:!0}),k(e,A.UPDATE_PARAMS,t)},e.on=function(e,t){let{once:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f.log("api","Called player.on()",e),void 0===e)return;if("string"!=typeof e||!I(e)){console.warn(`Unknown event, received ${e}`);return}if("function"!=typeof t){console.warn(`The specified callback should be a function, received ${t}`);return}if(r[e]||(r[e]=[]),r[e].find(e=>{let{originalCb:i}=e;return i===t})){console.warn(`Callback duplication detected for ${e}`);return}let a=t;i&&(t=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];o(),a(...t)});let o=()=>{r[e]&&(r[e]=r[e].filter(e=>e.originalCb!==a))};return r[e].push({originalCb:a,cb:t}),o},e.off=(e,t)=>{if(f.log("api","Called player.off()",e),void 0!==e){if("string"!=typeof e||!I(e)){console.warn(`Unknown event, received ${e}`);return}if(!r[e]){console.warn(`No listener on ${e} to remove`);return}if(void 0===t){delete r[e];return}if("function"!=typeof t){console.warn(`The specified callback should be a function, received ${t}`);return}r[e]=r[e].filter(e=>e.originalCb!==t)}},e.getState=()=>(f.log("api","Called player.getState()"),new Promise((i,a)=>{let o=R(e,v.PUBLIC.PLAYER_HEAVYADSINTERVENTION,()=>{n(),o(),a(),console.warn(`player.getState() rejected : player ${t} has been destroyed by Heavy Ads`)}),n=s(e=>{n(),o(),i(e)})})),e.getRootNode=()=>(f.log("api","Called player.getRootNode()"),a),e.getSettings=()=>(f.log("api","Called player.getSettings()"),n(o))},eC=!1;class eL{initialize(){let{initialized:e}=this._do_not_use_8570627c9e5298facd0d;if(e)return e;let{settings:{autostart:t,pip:i},id:a,iframe:o,observer:n,rootNode:l}=this._do_not_use_8570627c9e5298facd0d;return n.earlyObserve(l),e=(async()=>(await Promise.all([eC,this.apiReadyReceived]),n.unobserve(l),R(this,v.PUBLIC.PLAYER_VIDEOCHANGE,e=>{let{title:t}=e;o.setAttribute("title",`Dailymotion video player - ${t.replace(/&/g,"&amp;").replace(/"/g,"&quot;")}`),this.isEmpty&&!this.hasReceivedVideoChange&&(n.unobserve(l),n.observe(l)),this.hasReceivedVideoChange=!0}),"off"!==i&&(window.dailymotion._do_not_use_8570627c9e5298facd0d.playerSelectedForPip===this&&window.dailymotion.pipResume(),k(this,A.INIT_PIP_IFRAME_CHUNK)),eS(),"firstTimeViewable"===t&&eT(this),eD(this),f.log("init",`Player ${a} fully initialized`),n.observe(l),this))(),this._do_not_use_8570627c9e5298facd0d.initialized=e,e}destroy(){let{id:e,observer:t,placeholderNode:i,removeAllListeners:a,rootNode:o,viewportResizeListener:n}=this._do_not_use_8570627c9e5298facd0d;f.log("api","Called player.destroy()"),t.unobserve(o),a(),eN(this),o.parentNode.replaceChild(i,o),this===window.dailymotion._do_not_use_8570627c9e5298facd0d.playerSelectedForPip&&(window.dailymotion.pipClose(),window.dailymotion._do_not_use_8570627c9e5298facd0d.playerSelectedForPip=null),window.removeEventListener("resize",n),delete window.dailymotion._do_not_use_8570627c9e5298facd0d.players[e]}isEligibleForPipDisplay(e){let{settings:{pip:t}}=this._do_not_use_8570627c9e5298facd0d;return"off"===t?{status:!1,reason:"PIP is OFF"}:this.isEmpty&&!this.hasReceivedVideoChange?{status:!1,reason:"empty embed without videochange event"}:e?{status:!0,reason:"PIP is ON and was viewable at least once"}:{status:"instant"===t,reason:"instant"===t?"PIP is INSTANT":"was not viewable at least once"}}constructor({embedIndex:e,emptyPlayer:t,iframe:i,iframeId:a,observer:o,placeholderNode:n,rootNode:l,settings:r,spinner:s}){let d=window.innerWidth<=et.SMALL?"smallViewport":"largeViewport",c="off"===r.pip?"disabled":"enabled";if(this.apiReadyReceived=!1,this.isEmpty=!1,this.hasReceivedVideoChange=!1,this._do_not_use_8570627c9e5298facd0d={id:a,iframe:i,index:e,initialized:!1,observer:o,placeholderNode:n,rootNode:l,settings:r,spinner:s,stateFromPES:{playerAspectRatio:null,playerIsViewable:null,playerPip:null,playerPipDisplay:d,playerPipIsExpanded:!1,playerPipStatus:c,playerPresentationMode:"inline",playerScaleMode:null},viewportResizeListener:null},o.init(i),this.isEmpty=t,ea(this,r.aspectRatio),eo(this,r.scaleMode),!z()){let e=R(this,v.PRIVATE.WRITE_UID,()=>{W(),e()})}this.apiReadyReceived=new Promise(e=>{let t=R(this,v.PRIVATE.PLAYER_APIREADY,()=>{i.removeAttribute("name"),s&&(i.style.opacity=1,s.remove()),t(),e()})});let u=R(this,v.PRIVATE.DISPLAY_POSTER_SOONER,()=>{i.style.opacity=1,s.remove(),u()});eR(this),"off"===r.pip?eC=Promise.resolve():(window.dailymotion._do_not_use_8570627c9e5298facd0d.playerSelectedForPip?console.warn(`[${r.id}] ${T.PIP_ALREADY_ENABLED}`):window.dailymotion._do_not_use_8570627c9e5298facd0d.playerSelectedForPip=this,eC=window._dmDynamicImportPolyfill("pes.pip.8000874c.js"))}}let eT=e=>{let t=R(e,v.PUBLIC.PLAYER_VIEWABILITYCHANGE,i=>{let{viewable:a,wasViewableAtLeastOnce:o}=i;e&&(a||e.isEligibleForPipDisplay(o).status)&&(t(),e.play())})},eD=e=>{e._do_not_use_8570627c9e5298facd0d.viewportResizeListener=()=>{k(e,A.VIEWPORT_RESIZE,{width:window.innerWidth,height:window.innerHeight})},window.addEventListener("resize",e._do_not_use_8570627c9e5298facd0d.viewportResizeListener)},eS=()=>{C(v.PUBLIC.PLAYER_VIEWABILITYCHANGE,e=>{let{viewable:t,id:i}=e,a=window.dailymotion._do_not_use_8570627c9e5298facd0d.players[i];a&&(a._do_not_use_8570627c9e5298facd0d.stateFromPES.playerIsViewable=t,k(a,A.PLAYER_VISIBILITY,t))})},eN=e=>{let t=t=>{console.warn(`Invalid call to player.${t}() : player ${e._do_not_use_8570627c9e5298facd0d.id} has been destroyed`)};Object.keys(e).forEach(i=>{"function"==typeof e[i]&&(e[i]=()=>{t(i)})}),Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(i=>{"constructor"!==i&&"function"==typeof e[i]&&(e[i]=()=>{t(i)})})},eU=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],eY=(e,t,i,a)=>{if(!0===t)return f.log("viewability","No header overlapping ! Reason: IO isVisible is true"),{status:!1,marginTop:null};let{x:o,y:n,width:l,height:r}=e.getBoundingClientRect();if(n>=0)return f.log("viewability",`Overlapping detection canceled ! Reason : Player is not about to pass above the fold, y:${n}`),{status:!1,marginTop:null};let s=document.elementFromPoint(o+Math.round(.5*l),n+Math.round(r*(1-a)));if(!s)return f.log("viewability","No header overlapping ! Reason: No overlapping element"),{status:!1,marginTop:null};if(i.isSameNode(s))return f.log("viewability","No header overlapping ! Reason: Overlapping element is the same as the player iframe"),{status:!1,marginTop:null};let d=e$(s);if(!d)return f.log("viewability",'No header overlapping ! Reason: Overlapping element or ancestors are not in "fixed" position'),{status:!1,marginTop:null};let{x:c,y:u,width:p,height:y}=d.getBoundingClientRect();return(f.log("viewability",`Overlapping header detection data :
        - IO isVisible : ${t}
        - targetX : ${o}
        - targetY : ${n}
        - targetWidth : ${l}
        - targetHeight : ${r}
        - fixedElementX : ${c}
        - fixedElementY: ${u}
        - fixedElementWidth: ${p}
        - fixedElementHeight: ${y}
        - fixed element:`,d,`
        - overlapping element:`,s),0!==u)?(f.log("viewability","No header overlapping ! Reason: Overlapping element Y position is not 0"),{status:!1,marginTop:null}):c<=o&&p>=l?(f.log("viewability","Fixed header is overlapping player iframe"),{status:!0,marginTop:y}):(f.log("viewability","No header overlapping ! Reason: Overlapping element is not fully covering the player width"),{status:!1,marginTop:null})},e$=e=>{try{for(;e;){let t=window.getComputedStyle(e).getPropertyValue("position").toLowerCase();if("fixed"===t||"sticky"===t)return e;e=e.parentNode instanceof HTMLElement&&"BODY"!==e.tagName?e.parentNode:null}return null}catch(e){return null}};class eV{init(e){this.playerIframe=e,f.log("viewability","Observer initialized with header detection")}intersectionObserverCallback(e){e.forEach(e=>{let t,{intersectionRatio:i,target:a,isVisible:o}=e;if((t=i>=.5)&&!this.hasCompletedHeaderDetection&&a.getBoundingClientRect().y<=0){let{status:e,marginTop:i}=eY(a,o,this.playerIframe,.5);e&&(this.hasCompletedHeaderDetection=!0,t=!1,this.intersectionObserver.disconnect(),this.intersectionObserver=null,f.log("viewability","Defining new observer with root marginTop",i),this.intersectionObserver=new window.IntersectionObserver(this.intersectionObserverCallback.bind(this),{rootMargin:`-${i}px 0px 0px 0px`,threshold:eU}),this.intersectionObserver.observe(a))}t&&!this.wasViewableAtLeastOnce&&(f.log("viewability","Player iframe was viewable at least once"),this.wasViewableAtLeastOnce=!0),this.earlyObserverMode||O(v.PUBLIC.PLAYER_VIEWABILITYCHANGE,{id:a.id,viewable:t,wasViewableAtLeastOnce:this.wasViewableAtLeastOnce,...this.uiActionOrigin?{uiActionOrigin:this.uiActionOrigin}:{}}),this.uiActionOrigin=null})}observe(e){var t;null===(t=this.intersectionObserver)||void 0===t||t.observe(e)}earlyObserve(e){var t;f.log("viewability","Early intersection observer has started"),this.earlyObserverMode=!0,null===(t=this.intersectionObserver)||void 0===t||t.observe(e)}unobserve(e){var t;this.earlyObserverMode=!1,null===(t=this.intersectionObserver)||void 0===t||t.unobserve(e)}disconnect(){var e;null===(e=this.intersectionObserver)||void 0===e||e.disconnect()}setUIActionOrigin(e){this.uiActionOrigin=e}constructor(){this.intersectionObserver=null,this.uiActionOrigin=null,this.wasViewableAtLeastOnce=!1,this.earlyObserverMode=!1,this.playerIframe=null,this.hasCompletedHeaderDetection=!1,this.intersectionObserver=new window.IntersectionObserver(this.intersectionObserverCallback.bind(this),{threshold:eU})}}let ex=["xbzwps","xbzwyj","xkb83k","x5xhrd","x2k4l07","xgphb5","x2k4kr6","x2k4l64","x1fv3qc","x1uzrwn"],eM=Date.now(),eK=null,eF=()=>new Promise(e=>{eK=setTimeout(()=>(f.log("liveramp","Received postMessage timeout (300ms)"),e()),300)}),eG=()=>new Promise(e=>{window.addEventListener("message",t=>{let{data:i}=t;if(i&&"ats-modules-liveramp-envelope-result"===i.message)try{let t=Date.now()-eM;if(t>300)return e(null);if(f.log("liveramp","Received envelope response"),"string"==typeof i.result){let{envelope:a}=JSON.parse(i.result);return f.log("liveramp",`Received envelope: ${a} (${t}ms)`),clearTimeout(eK),e(a)}}catch(t){return f.log("liveramp",`Envelope decoding failed: ${t}`),e(null)}});try{f.log("liveramp","Dispatch envelope request"),window.top.postMessage("ats-modules-liveramp-envelope-request","*")}catch(t){return f.log("liveramp",`Envelope request failed: ${t}`),e(null)}}),eH=()=>{var t;return ex.includes(null===(t=e.player)||void 0===t?void 0:t.ownerId)?Promise.race([eG(),eF()]):Promise.resolve(null)},ej={create:async function(e,t,i,a){var n;let{videoId:l,playlistId:d,playerId:c,params:u,settings:p,referrerPolicy:y}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if("embed"===a&&!(null===(n=document.body)||void 0===n?void 0:n.contains(e))){console.warn(T.PLAYER_PLACEHOLDER_NODE_OUT_OF_BODY);return}let _=e.id||`dailymotion-instance-${m()}`,b=e.parentNode,E=window.dailymotion._do_not_use_8570627c9e5298facd0d.iframeIndex++,h=!l&&!d,g=new eV,w=s(u),P=s(p),v=`pes${(null==w?void 0:w.dmPubtool)?`-${w.dmPubtool}`:""}`,A=window.dailymotion._do_not_use_8570627c9e5298facd0d.settings,I=A[c];if(void 0===I)try{let e=await window.fetch(`${o()}/player/${c}.json`,{method:"GET"});I=await e.json(),f.log("api","Fetched player settings",I),"server_error"===I.status&&console.warn(`${T.PLAYER_CONFIG_SERVER_ERROR} : ${I.id}`),"not_found"===I.status&&console.warn(`${T.PLAYER_CONFIG_ID_NOT_FOUND} : ${I.id}`),"deleted"===I.status&&console.warn(`${T.PLAYER_CONFIG_ID_DELETED} : ${I.id}`),A[I.id]=I}catch(e){console.error("Settings fetch error: ",e);return}I=r(I,P);let k=eB(l,d,c,w,y),O=eW(_,c),R=eq(),C=eQ(b),L=new eL({embedIndex:t,emptyPlayer:h,iframe:k,iframeId:_,observer:g,placeholderNode:e,rootNode:O,settings:I,spinner:C});window.dailymotion._do_not_use_8570627c9e5298facd0d.players[_]=L,R.appendChild(C),O.appendChild(R),b.replaceChild(O,e);let D=await ez({embedIndex:t,iframeId:_,pesIframeIndex:E,pesIntegrationType:a,pesUUID:i,pubtool:v,settings:I});return k.name=encodeURIComponent(D),R.appendChild(k),f.log("init","Injected iframe in the DOM"),eO({name:"vital_pes_iframe_start",emptyPlayer:h,pesIframeIndex:E,pesIntegrationType:a,pesUUID:i}),L}},eB=function(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4?arguments[4]:void 0,l=document.createElement("iframe"),r="default"!==i?`/player/${i}.html`:"/player.html",s=new URLSearchParams({...e&&{video:e},...t&&{playlist:t}});Object.keys(o).filter(e=>!s.has(e)).forEach(e=>{o[e]&&"object"==typeof o[e]?Object.keys(o[e]).forEach(t=>{s.append(`${e}[${t}]`,o[e][t])}):s.append(e,o[e])});let d=window.location.href.match(/dmDevBackendEnv=[-_a-zA-Z0-9]+/);if(null!==d){let[,e]=d[0].split("=");s.append("dmDevBackendEnv",e)}return Object.assign(l,{allow:["autoplay","fullscreen","picture-in-picture",...window.navigator.canShare?["web-share"]:[]].join("; "),className:"dailymotion-player",frameBorder:0,src:`${a()}${r}?${s.toString()}`,title:"Dailymotion video player",...n&&{referrerPolicy:n}}),l.style.opacity=0,l},ez=async i=>{let{embedIndex:a,iframeId:n,pesIframeIndex:l,pesIntegrationType:r,pesUUID:s,pubtool:d,settings:u}=i,{trafficSegment:p,playerGatekeepers:y}=e,{location:_,origin:m,innerWidth:b,innerHeight:E}=window,{hasOverride:h,enableReceiveUrlLocation:w,enableSharingUrlLocation:P,enableContextualContent:v}=u,{neonTrackingData:A,pesLastEventTs:I,pesAuthToken:k}=window.dailymotion._do_not_use_8570627c9e5298facd0d,O=null;(w||P)&&(_.hostname?O=_.href:_.ancestorOrigins&&(O=_.ancestorOrigins[0]));let R=null;try{R=new URL(document.referrer).origin}catch(e){}let C=v?await D():null,L=function(){let e=null,t=new Promise(t=>{e=setTimeout(()=>(f.log("cookies","Received 3rd party cookie detection timeout"),t()),2e3)});return Promise.race([new Promise(t=>{let i=document.createElement("script");i.src=`${o()}/cookie.js`,i.onload=()=>(f.log("cookies","3rd party cookie detection script loaded"),clearTimeout(e),t()),i.onerror=()=>(f.log("cookies","3rd party cookie detection script error"),clearTimeout(e),t()),document.head.appendChild(i)}),t])}();c()&&f.log("cookies","Skipping 3rd party cookie detection on dailymotion.com");let[T]=await Promise.all([eH(),...c()?[]:[L]]);return V(),G(),X(),q(),JSON.stringify({dmInternalData:{contextualPageData:C,cookies1stPartyAvailable:$(),cookies3rdPartyAvailable:F(),embedder:O,embedIndex:a,forcedSettings:h?u:void 0,gatekeepers:y,iframeId:n,initialViewportSize:{width:b,height:E},liverampEnvelope:T,logger:g(),neonTrackingData:A,pesIframeIndex:l,pesIntegrationType:r,pesLastEventTs:I,pesPlayerVersion:t,pesAuthToken:k,pesUUID:s,pubtool:d,referer:R,targetOrigin:m,ts:p,uid:B(),v1st:Z()}})},eW=(e,t)=>{let i=document.createElement("div");return i.id=e,i.classList.add("dailymotion-player-root"),i.classList.add(`dailymotion-player-${t}`),i},eq=()=>{let e=document.createElement("div");return e.className="dailymotion-player-wrapper",Object.assign(e.style,{height:"100%",overflow:"hidden",position:"absolute",width:"100%",margin:"0.00001px"}),e},eQ=e=>{var t;let i=document.createElement("div"),a=((null==e?void 0:null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)||0)>640?"48":"40";return Object.assign(i.style,{height:`${a}px`,left:"50%",position:"absolute",top:"50%",transform:"translate3d(-50%, -50%, 0)",width:`${a}px`}),i.innerHTML=`<svg
      xmlns="http://www.w3.org/2000/svg"
      aria-hidden="true"
      height="${a}"
      viewBox="0 0 50 50"
      width="${a}"
    >
      <circle
        cx="25"
        cy="25"
        fill="none"
        r="20"
        stroke="#fff"
        stroke-dasharray="125.6, 125.6"
        stroke-width="4"
        transform="rotate(-90 25 25)"
      />
    </svg>`,i.querySelector("circle").animate([{strokeDashoffset:"125.6"},{strokeDashoffset:"0"},{strokeDashoffset:"-125.6"}],{duration:1200,iterations:1/0}),i},eJ={events:v.PUBLIC};eJ.createPlayer=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f.log("api","Called dailymotion.createPlayer()",e,t);let{settings:i,embedScriptIndex:a,pesUUID:o}=window.dailymotion._do_not_use_8570627c9e5298facd0d,n=document.querySelector(`#${e}`);if(!n)return Promise.reject(Error(`${T.DOM_ELEMENT_ID_NOT_FOUND} : #${e}`));if(n.classList.contains("dailymotion-player-wrapper"))return Promise.reject(Error(`${T.PLAYER_ALREADY_ATTACHED} : #${e}`));if(t&&"object"!=typeof t)return Promise.reject(Error(T.PLAYER_INVALID_OPTIONS));t.player||(1===Object.keys(i).length?t.player=Object.keys(i)[0]:(Object.keys(i).length>1&&console.warn(T.PLAYER_CONFIG_NOT_SPECIFIED),t.player="default"));let l=await ej.create(n,a,o,"lib",{videoId:t.video,playlistId:t.playlist,playerId:t.player,params:t.params,settings:t.settings,referrerPolicy:t.referrerPolicy});return null==l?void 0:l.initialize()},eJ.getPlayer=e=>{f.log("api","Called dailymotion.getPlayer()",e);let{players:t}=window.dailymotion._do_not_use_8570627c9e5298facd0d,i=t[e];if(0===Object.keys(t).length)return Promise.reject(Error(T.PLAYER_NOT_FOUND));if(void 0===e){var a;return Object.keys(t).length>1?Promise.reject(Error(T.PLAYER_ID_REQUIRED)):null===(a=Object.values(t)[0])||void 0===a?void 0:a.initialize()}return void 0===i?Promise.reject(Error(`${T.PLAYER_ID_NOT_FOUND} : #${e}`)):null==i?void 0:i.initialize()},eJ.getAllPlayers=()=>{f.log("api","Called dailymotion.getAllPlayers()");let{players:e}=window.dailymotion._do_not_use_8570627c9e5298facd0d,t=[];return 0===Object.keys(e).length?Error(T.PLAYER_NOT_FOUND):(Object.values(e).forEach(e=>t.push(null==e?void 0:e.initialize())),t)};let eZ=()=>{f.log("api","Called disabled PIP method"),console.warn(T.PIP_IS_DISABLED)};eJ.pipClose=eZ,eJ.pipCollapse=eZ,eJ.pipExpand=eZ,eJ.pipRepaint=eZ,eJ.pipResume=eZ,eJ.forwardAuthToken=e=>{f.log("api","Called dailymotion.forwardAuthToken()",e),window.dailymotion._do_not_use_8570627c9e5298facd0d.pesAuthToken=e,Object.values(window.dailymotion._do_not_use_8570627c9e5298facd0d.players).forEach(t=>{k(t,A.UPDATE_AUTH_TOKEN,e)})},c()&&(eJ.forwardNeonTrackingData=e=>{f.log("api","Called dailymotion.forwardNeonTrackingData()",e);let{players:t}=window.dailymotion._do_not_use_8570627c9e5298facd0d,i=Object.keys(t);if(0===i.length){window.dailymotion._do_not_use_8570627c9e5298facd0d.neonTrackingData=e;return}k(t[i[0]],A.UPDATE_NEON_TRACKING_DATA,e)},eJ.getEnvironmentInfo=()=>{let{udger:{browserOsFamily:t,browserOsName:i,browserUaFamily:a,browserUaName:o,browserUaVersion:n}={}}=e;return{osFamily:t,osName:i,uaFamily:a,uaName:o,uaVersion:n}}),eJ._do_not_use_8570627c9e5298facd0d={api:null,embedScriptIndex:1,iframeIndex:1,neonTrackingData:null,pesAuthToken:null,pesUUID:null,players:{},playerSelectedForPip:null,screenId:m(),settings:{}},window._dmDynamicImportPolyfill=e=>{let t=e.slice(0,-3),i=document.querySelector(`script[id="${t}"]`);if(i)return eX(i);let a=document.createElement("script");a.src=`https://static1.dmcdn.net/playerv5/${e}`,a.id=t;let o=eX(a);return document.body.appendChild(a),o};let eX=e=>new Promise((t,i)=>{let a=e.getAttribute("load-status");return"loaded"===a?t():"error"===a?i():void(e.addEventListener("load",()=>{e.setAttribute("load-status","loaded"),t()}),e.addEventListener("error",()=>{e.setAttribute("load-status","error"),i()}))}),e0=e.player;if(!e0)throw Error("Backend settings not set");let{id:e2,status:e1}=e0;(async()=>{var e;let t=document.currentScript,{dataset:{video:i,playlist:a,params:o,settings:n},referrerPolicy:l,src:r}=t,s=0,d=!i&&!a,c=r.match(/\/libs\//)?"lib":"embed";f.log("init","Started PES","lib"===c?"(lib)":"(embed script)");let u=m();if((null===(e=window.dailymotion)||void 0===e?void 0:e.createPlayer)||(window.dailymotion={...window.dailymotion,...eJ},f.log("init","Injected public API")),eO({name:"vital_pes_enter",emptyPlayer:"lib"===c?null:d,pesIntegrationType:c,pesUUID:u}),window.dailymotion._do_not_use_8570627c9e5298facd0d.pesUUID=u,f.log("init",`PES UUID: ${u}`),"ok"===e1&&(window.dailymotion._do_not_use_8570627c9e5298facd0d.settings[e0.id]=e0),"function"==typeof window.dailymotion.onScriptLoaded&&(f.log("init","Running dailymotion.onScriptLoaded()"),window.dailymotion.onScriptLoaded(),delete window.dailymotion.onScriptLoaded),"lib"===c)f.log("init","Library script loaded");else{s=window.dailymotion._do_not_use_8570627c9e5298facd0d.embedScriptIndex++,f.log("init","Embed script loaded",`Index ${s}`),eA(s,d);let e={videoId:i,playlistId:a,playerId:e2,params:o,settings:n,referrerPolicy:l};f.log("init","Creating player iframe",e);let r=await ej.create(t,s,u,"embed",e);null==r||r.initialize()}})();
return {
  B: et,
  C: A,
  E: v,
  a: u,
  b: k,
  c: C,
  l: f,
  s: O
};
})();
// pv5template